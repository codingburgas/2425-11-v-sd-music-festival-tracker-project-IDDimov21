@using Microsoft.AspNetCore.Components.Authorization
@using FestivalApp_PL.Auth
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Navigation

<CascadingAuthenticationState>
    <AuthorizeView>
        <Authorized>
            <nav class="sidebar">
                <div class="logo">LOGO NAME</div>
                <ul>
                    <li><NavLink href="/home">🏠 Home</NavLink></li>
                    <li><NavLink href="/calendar">📅 My Calendar</NavLink></li>
                    <li><NavLink href="/tickets">🎟️ Book Tickets</NavLink></li>
                    <li><NavLink href="/settings">⚙️ Settings</NavLink></li>
                    <li><button class="btn-logout" @onclick="HandleLogout">🚪 Logout</button></li>
                </ul>
            </nav>
        </Authorized>
    </AuthorizeView>
</CascadingAuthenticationState>

@code {
    private async Task HandleLogout()
    {
        await ((CustomAuthStateProvider)AuthStateProvider).Logout();
        Navigation.NavigateTo("/", forceLoad: true);
    }
}
